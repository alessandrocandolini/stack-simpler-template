# stack-templates

Collections of project templates for the [stack](https://docs.haskellstack.org/en/stable/README/) Haskell build tool.

Templates are written in hsfiles format, using [mustache](https://mustache.github.io/). 

To create a new project based on one of these templates run  
```bash
stack <options> new <project-name> alessandrocandolini/<name of the corresponding hsfile> 
```
assuming stack is installed in the system. Here, `<options>` is any command-line option available for stack, `<project-name>` is the name of the project that will be created and `<name of the corresponding hsfile> ` is the name of a `hsfile` in this repo. For example, 
```
stack new hello-world alessandrocandolini/simpler-new-template
```
or 
```
stack --resolver nightly-2020-12-12 new hello-world alessandrocandolini/simpler-new-template
```

Refer to [Stack templates documentation](https://docs.haskellstack.org/en/stable/GUIDE/#templates) for more information on how to provide and use templates, and to the [official stack documentation](https://docs.haskellstack.org/en/stable/GUIDE/) for a comprehensive list of available options when running stack. 

## simpler-new-template

`simpler-new-template` is a template based on the standard [new-template](https://github.com/commercialhaskell/stack-templates/blob/master/new-template.hsfiles) (which, at the time of writing, is the default choice when running `stack new` with no template name specified) but with few main differences. 

First: some of the files that `new-template` generates and that are mostly relevant for publishing on hackage are not generated by `simpler-new-template` (eg, `changeLog`, `setup.hs`, etc) 

Second: a number of helper files are automatically generated, in particular: 1. a default `README.md` with more information on how to run, exec, compile and test a standard stack project; 2. a `.gitignore` to exclude general files like executables, vim backup and `.swp` files, the automatically generated `.cabal` file (`package.yml` of [hpack](https://github.com/sol/hpack) should be the one committed to the repo instead), etc. 

Third: the generated project already comes with a number of opinionated dependencies and (few) GHC extensions imported. 
For testing, the generated project uses [Hspec](https://hspec.github.io/) with [hespec-discover](https://hackage.haskell.org/package/hspec-discover) for automatic discovery and run of the Hspec tests. It also imports [QuickCheck](https://hackage.haskell.org/package/QuickCheck) for property-based testing (quickcheck integrates seemlessly with Hspec). 

Forth: `simpler-new-template` generates configuration yml for github actions (it generates a github action to automatically run `stack test` on PR and push on the `main` branch of the project) 


